@model List<PhoneBook.Models.PersonModel>

<div>
	<form asp-action="Index" method="get">

		<input type ="text" id="Search" name="Search" value="@ViewBag.Search" />
		<input type="submit" value="Szukaj" />
	</form>
</div>

<div>
	<form asp-action="Add" method="get">

		
		<input type="submit" value="Dodaj nowy rekord" />
	</form>
</div>

<div>
	<table border="1">
		<tr>
			<th>ID</th>
			<th>First Name</th>
			<th>Last Name</th>
			<th>Phone</th>
			<th>Email</th>
			<th>Created</th>
			<th>Updated</th>
		</tr>

		@foreach (var person in Model)
		{
		<tr>
			<td>@person.ID</td>
			<td>@person.FirstName</td>
			<td>@person.LastName</td>
			<td>@person.Phone</td>
			<td>@person.Email</td>
			<td>@person.Created</td>
			<td>@person.Updated</td>
			<td> <a asp-action="Remove" asp-route-id="@person.ID">Usuń rekord</a></td>			
			<td> <a asp-action="Edit" asp-route-id="@person.ID">Edytuj rekord</a></td>
</tr>
		}
	</table>
</div>
<div>
	@if (ViewBag.Search != null)
	{
		@for (int x = 1; x < ViewBag.pagemaxsearch; x++)

		{
			if (ViewBag.page == x)
			{
				<button> @x (Aktualna) ]</button>

			}
			else
			{
				<button><a href="/Person/Index/@x"> @x </a></button>
			}

		}

	}
	else
	{

		@for (int x = 1; x < ViewBag.pagemax; x++)

		{
			if (ViewBag.page == x)
			{
				<button> @x (Aktualna) ]</button>

			}
			else
			{
				<button><a href="/Person/Index/@x"> @x </a></button>
			}

		}

	}



</div>
